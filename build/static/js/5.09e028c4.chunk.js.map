{"version":3,"sources":["views/MovieDetailsPage/MovieDetailsPage.jsx","views/MovieDetailsPage/MovieDetailsPage.module.css"],"names":["Cast","lazy","Reviews","MovieDetailsPage","props","useState","movieInfo","setMovieInfo","error","setError","movieId","match","params","location","useLocation","history","useHistory","useEffect","getMovieInfo","then","res","data","catch","poster_path","title","name","vote_average","overview","genres","release_date","cls","text","className","styles","btn","onClick","push","state","from","movieCard","src","posterUrl","alt","poster","movieCardInfo","split","score","genreList","map","el","id","additionalInfo","adInfoList","to","pathname","link","fallback","type","color","path","component","module","exports"],"mappings":"yNAUMA,EAAOC,gBAAK,kBAAM,gCAClBC,EAAUD,gBAAK,kBACnB,gCAgHaE,UA7Gf,SAA0BC,GAAQ,IAAD,EACGC,mBAAS,IADZ,mBACxBC,EADwB,KACbC,EADa,OAELF,oBAAS,GAFJ,mBAExBG,EAFwB,KAEjBC,EAFiB,KAIzBC,EAAUN,EAAMO,MAAMC,OAAOF,QAC7BG,EAAWC,cAEXC,EAAUC,cAEhBC,qBAAU,WACRC,YAAaR,GACVS,MAAK,SAAAC,GACJb,EAAaa,EAAIC,SAElBC,OAAM,WACLb,GAAS,QAEZ,CAACC,IAEJ,IAKEa,EAOEjB,EAPFiB,YACAC,EAMElB,EANFkB,MACAC,EAKEnB,EALFmB,KACAC,EAIEpB,EAJFoB,aACAC,EAGErB,EAHFqB,SACAC,EAEEtB,EAFFsB,OACAC,EACEvB,EADFuB,aAGF,OACE,qCACE,cAAC,IAAD,CAAaC,IAAK,QAASC,KAAI,UAAKP,GAASC,KAC7C,wBAAQO,UAAWC,IAAOC,IAAKC,QAjBb,WACpBpB,EAAQqB,KAAR,eAAkBvB,EAASwB,MAAMC,QAgB/B,4BACC9B,GAAS,cAAC,IAAD,CAAasB,IAAK,MAAOC,KAAM,yBACxCzB,EAAUsB,QACT,qCACE,0BAASI,UAAWC,IAAOM,UAA3B,UACE,qBACEC,IAAG,UAAKC,KAAL,OAAiBlB,GACpBmB,IAAKlB,GAASC,EACdO,UAAWC,IAAOU,SAEpB,0BAASX,UAAWC,IAAOW,cAA3B,UACE,oBAAIZ,UAAWC,IAAOT,MAAtB,mBAAiCA,GAASC,EAA1C,aACEI,EAAagB,MAAM,KAAK,GAD1B,OAGA,oBAAGb,UAAWC,IAAOa,MAArB,oCACkC,GAAfpB,EADnB,QAGA,0CACA,4BAAIC,IACJ,wCACA,oBAAIK,UAAWC,IAAOc,UAAtB,SACGnB,EAAOoB,KAAI,SAAAC,GAAE,OACZ,6BAAiBA,EAAGxB,MAAXwB,EAAGC,eAKpB,0BAASlB,UAAWC,IAAOkB,eAA3B,UACE,uDACA,qBAAInB,UAAWC,IAAOmB,WAAtB,UACE,6BACE,cAAC,IAAD,CACEC,GAAI,CACFC,SAAS,WAAD,OAAa5C,EAAb,SACR2B,MAAO,CACLC,KAAMzB,EAASwB,MAAMC,OAGzBN,UAAWC,IAAOsB,KAPpB,oBAYF,6BACE,cAAC,IAAD,CACEF,GAAI,CACFC,SAAS,WAAD,OAAa5C,EAAb,YACR2B,MAAO,CACLC,KAAMzB,EAASwB,MAAMC,OAGzBN,UAAWC,IAAOsB,KAPpB,0BAaJ,cAAC,WAAD,CAAUC,SAAU,cAAC,IAAD,CAAQC,KAAK,WAAWC,MAAM,SAAlD,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAI,UAAKvD,EAAMO,MAAMgD,KAAjB,SAA8BC,UAAW5D,IACpD,cAAC,IAAD,CACE2D,KAAI,UAAKvD,EAAMO,MAAMgD,KAAjB,YACJC,UAAW1D,oB,mBChH7B2D,EAAOC,QAAU,CAAC,UAAY,oCAAoC,cAAgB,wCAAwC,OAAS,iCAAiC,MAAQ,gCAAgC,MAAQ,gCAAgC,UAAY,oCAAoC,eAAiB,yCAAyC,WAAa,qCAAqC,KAAO,+BAA+B,IAAM","file":"static/js/5.09e028c4.chunk.js","sourcesContent":["import React, { useState, useEffect, lazy, Suspense } from 'react';\nimport { Link, Switch, Route, useLocation, useHistory } from 'react-router-dom';\n\nimport { getMovieInfo } from '../../components/utils/requestMovies';\nimport { posterUrl } from '../../components/utils/requestMovies';\nimport styles from './MovieDetailsPage.module.css';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport PageHeading from '../../components/PageHeading/PageHeading';\n\nconst Cast = lazy(() => import('../Cast/Cast' /* webpackChunkName: \"Cast\" */));\nconst Reviews = lazy(() =>\n  import('../Reviews/Reviews' /* webpackChunkName: \"Reviews\" */),\n);\n\nfunction MovieDetailsPage(props) {\n  const [movieInfo, setMovieInfo] = useState({});\n  const [error, setError] = useState(false);\n\n  const movieId = props.match.params.movieId;\n  const location = useLocation();\n\n  const history = useHistory();\n\n  useEffect(() => {\n    getMovieInfo(movieId)\n      .then(res => {\n        setMovieInfo(res.data);\n      })\n      .catch(() => {\n        setError(true);\n      });\n  }, [movieId]);\n\n  const goBackHandler = () => {\n    history.push({ ...location.state.from });\n  };\n\n  const {\n    poster_path,\n    title,\n    name,\n    vote_average,\n    overview,\n    genres,\n    release_date,\n  } = movieInfo;\n\n  return (\n    <>\n      <PageHeading cls={'title'} text={`${title || name}`} />\n      <button className={styles.btn} onClick={goBackHandler}>&#8592; Go back</button>\n      {error && <PageHeading cls={'err'} text={'something gone wrong'} />}\n      {movieInfo.genres && (\n        <>\n          <article className={styles.movieCard}>\n            <img\n              src={`${posterUrl}${poster_path}`}\n              alt={title || name}\n              className={styles.poster}\n            />\n            <section className={styles.movieCardInfo}>\n              <h3 className={styles.title}>{`${title || name} (${\n                release_date.split('-')[0]\n              })`}</h3>\n              <p className={styles.score}>\n                user score - {`${vote_average * 10}%`}\n              </p>\n              <h4>Overview</h4>\n              <p>{overview}</p>\n              <h5>Genres</h5>\n              <ul className={styles.genreList}>\n                {genres.map(el => (\n                  <li key={el.id}>{el.name}</li>\n                ))}\n              </ul>\n            </section>\n          </article>\n          <section className={styles.additionalInfo}>\n            <p>Additional Information</p>\n            <ul className={styles.adInfoList}>\n              <li>\n                <Link\n                  to={{\n                    pathname: `/movies/${movieId}/cast`,\n                    state: {\n                      from: location.state.from,\n                    },\n                  }}\n                  className={styles.link}\n                >\n                  Cast\n                </Link>\n              </li>\n              <li>\n                <Link\n                  to={{\n                    pathname: `/movies/${movieId}/reviews`,\n                    state: {\n                      from: location.state.from,\n                    },\n                  }}\n                  className={styles.link}\n                >\n                  Reviews\n                </Link>\n              </li>\n            </ul>\n            <Suspense fallback={<Loader type=\"TailSpin\" color=\"#red\" />}>\n              <Switch>\n                <Route path={`${props.match.path}/cast`} component={Cast} />\n                <Route\n                  path={`${props.match.path}/reviews`}\n                  component={Reviews}\n                />\n              </Switch>\n            </Suspense>\n          </section>\n        </>\n      )}\n    </>\n  );\n}\n\nexport default MovieDetailsPage;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieCard\":\"MovieDetailsPage_movieCard__282hu\",\"movieCardInfo\":\"MovieDetailsPage_movieCardInfo__2Oyuj\",\"poster\":\"MovieDetailsPage_poster__2HYYZ\",\"title\":\"MovieDetailsPage_title__2HWns\",\"score\":\"MovieDetailsPage_score__1vr4Z\",\"genreList\":\"MovieDetailsPage_genreList__1PAH2\",\"additionalInfo\":\"MovieDetailsPage_additionalInfo__AcwJM\",\"adInfoList\":\"MovieDetailsPage_adInfoList__2fYyf\",\"link\":\"MovieDetailsPage_link__18ykD\",\"btn\":\"MovieDetailsPage_btn__1qMKD\"};"],"sourceRoot":""}