{"version":3,"sources":["components/PageHeading/PageHeading.jsx","components/Navigation/Navigation.module.css","components/utils/key.js","components/utils/requestMovies.js","views/MoviesPage/Movies.module.css","views/HomePage/HomePage.module.css","components/AppBar/Appbar.module.css","components/Container/Container.module.css","components/PageHeading/PageHeading.module.css","components/Navigation/Navigation.jsx","components/AppBar/AppBar.jsx","components/Container/Container.jsx","views/HomePage/HomePage.jsx","views/MoviesPage/MoviesPage.jsx","views/NotFoundView.jsx","App.js","index.js"],"names":["PageHeading","cls","text","className","styles","module","exports","KEY","URL","getDailyTrends","axios","get","getMoviesList","query","getMovieInfo","movieId","getMovieCast","getMovieReviews","posterUrl","profileUrl","Navigation","exact","to","link","activeClassName","activeLink","Appbar","header","Container","children","container","HomePage","useState","movies","setMovies","error","setError","location","useLocation","useEffect","then","response","data","results","catch","length","list","map","movie","pathname","id","state","from","title","name","MovieDetailsPage","lazy","Movies","setQuery","history","useHistory","changeHandler","e","inputQuery","target","value","submitHandler","a","preventDefault","push","search","queryString","parse","res","fallback","type","color","path","component","render","onSubmit","searchForm","placeholder","onChange","NotFoundView","App","MoviesPage","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a3ee7c36.chunk.js","sourcesContent":["import styles from './PageHeading.module.css';\n\nexport default function PageHeading({ cls, text }) {\n  return <h1 className={styles[cls]}>{text}</h1>;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__3IPpX\",\"activeLink\":\"Navigation_activeLink__3KOF_ Navigation_link__3IPpX\"};","const KEY = '1b548a20e014d0ac89134ac09055bb25';\nexport default KEY;\n","import KEY from './key';\nimport axios from 'axios';\n\nconst URL = 'https://api.themoviedb.org/3/';\n\nexport const getDailyTrends = () => {\n  return axios.get(`${URL}trending/all/day?api_key=${KEY}`);\n};\n\nexport const getMoviesList = query => {\n  return axios.get(\n    `${URL}search/movie?query=${query}&api_key=${KEY}&language=en-US&page=1&include_adult=false`,\n  );\n};\n\nexport const getMovieInfo = movieId => {\n  return axios.get(`${URL}movie/${movieId}?api_key=${KEY}&language=en-US`);\n};\n\nexport const getMovieCast = movieId => {\n  return axios.get(`${URL}movie/${movieId}/credits?api_key=${KEY}`);\n};\n\nexport const getMovieReviews = movieId => {\n  return axios.get(\n    `${URL}movie/${movieId}/reviews?api_key=${KEY}&language=en-US&page=1`,\n  );\n};\n\nexport const posterUrl = 'https://image.tmdb.org/t/p/w500';\nexport const profileUrl = 'http://image.tmdb.org/t/p/w185';\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"Movies_searchForm__388qI\",\"list\":\"Movies_list___pXQu\",\"link\":\"Movies_link__2Ye7g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"HomePage_title__2MoKS\",\"list\":\"HomePage_list__nhnuL\",\"link\":\"HomePage_link__3_FQi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Appbar_header__3cO0l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__1BpIM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"PageHeading_title__1llwI\",\"err\":\"PageHeading_err__3wANw\"};","import { NavLink } from 'react-router-dom';\nimport styles from './Navigation.module.css';\n\nconst Navigation = () => (\n  <nav>\n    <NavLink\n      exact\n      to=\"/\"\n      className={styles.link}\n      activeClassName={styles.activeLink}\n    >\n      Home\n    </NavLink>\n\n    <NavLink\n      to=\"/movies\"\n      className={styles.link}\n      activeClassName={styles.activeLink}\n    >\n      Movies\n    </NavLink>\n\n    {/* <NavLink\n      to=\"/books\"\n      className={styles.link}\n      activeClassName={styles.activeLink}\n    >\n      Книги\n    </NavLink> */}\n  </nav>\n);\n\nexport default Navigation;\n","import Navigation from '../Navigation/Navigation';\nimport styles from './Appbar.module.css';\n\nexport default function Appbar() {\n  return (\n    <header className={styles.header}>\n      <Navigation />\n    </header>\n  );\n}\n","import styles from './Container.module.css';\n\nexport default function Container({ children }) {\n  return <div className={styles.container}>{children}</div>;\n}\n","import { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport PageHeading from '../../components/PageHeading/PageHeading';\n\nimport { getDailyTrends } from '../../components/utils/requestMovies';\nimport { Link } from 'react-router-dom';\nimport styles from './HomePage.module.css';\n\nfunction HomePage() {\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(false);\n\n  const location = useLocation();\n\n  useEffect(() => {\n    getDailyTrends()\n      .then(response => {\n        setMovies(response.data.results);\n      })\n      .catch(() => {\n        setError(true);\n      });\n  }, []);\n\n  return (\n    <>\n      <PageHeading cls={'title'} text={'Trending today'} />\n      {error && <p>something gone wrong</p>}\n      {!!movies.length && (\n        <ul className={styles.list}>\n          {movies.map(movie => (\n            <Link\n              key={movie.id}\n              to={{\n                pathname: `/movies/${movie.id}`,\n                state: {\n                  from: location,\n                },\n              }}\n              className={styles.link}\n            >\n              <li>{movie.title || movie.name}</li>\n            </Link>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n}\n\nexport default HomePage;\n","import { useState, useEffect, Suspense, lazy } from 'react';\nimport { Switch, Route, Link, useHistory, useLocation } from 'react-router-dom';\n\nimport queryString from 'query-string';\nimport { getMoviesList } from '../../components/utils/requestMovies';\nimport styles from './Movies.module.css';\nimport Loader from 'react-loader-spinner';\nimport PageHeading from '../../components/PageHeading/PageHeading';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst MovieDetailsPage = lazy(() =>\n  import('../MovieDetailsPage/MovieDetailsPage'),\n);\n\nfunction Movies() {\n  const [query, setQuery] = useState('');\n  const [movies, setMovies] = useState([]);\n\n  const history = useHistory();\n  const location = useLocation();\n\n  const changeHandler = e => {\n    const inputQuery = e.target.value;\n    setQuery(inputQuery);\n  };\n\n  const submitHandler = async e => {\n    e.preventDefault();\n    history.push({ ...location, search: `?query=${query}` });\n  };\n\n  useEffect(() => {\n    const movie = queryString.parse(location.search).query;\n    if (!movie) {\n      setMovies([]);\n      setQuery('');\n    }\n\n    if (location.search) {\n      getMoviesList(movie).then(res => setMovies(res.data.results));\n      setQuery(movie);\n    }\n  }, [location.search]);\n\n  return (\n    <Suspense fallback={<Loader type=\"TailSpin\" color=\"#red\" />}>\n      <Switch>\n        <Route path=\"/movies/:movieId\" component={MovieDetailsPage} />\n        <Route\n          exact\n          path=\"/movies\"\n          render={() => (\n            <>\n              <PageHeading cls={'title'} text={'Search'} />\n              <form onSubmit={submitHandler} className={styles.searchForm}>\n                <input\n                  placeholder=\"enter movie\"\n                  value={query}\n                  onChange={changeHandler}\n                />\n                <button>Search</button>\n              </form>\n\n              <ul className={styles.list}>\n                {movies.map(movie => (\n                  <Link\n                    key={movie.id}\n                    to={{\n                      pathname: `/movies/${movie.id}`,\n                      state: {\n                        from: location,\n                      },\n                    }}\n                    className={styles.link}\n                  >\n                    <li>{movie.title || movie.name}</li>\n                  </Link>\n                ))}\n              </ul>\n            </>\n          )}\n        />\n      </Switch>\n    </Suspense>\n  );\n}\n\nexport default Movies;\n","import PageHeading from '../components/PageHeading/PageHeading';\n\nexport default function NotFoundView() {\n  return<PageHeading cls={'err'} text={'404 Страница не найдена'} />;\n}\n","import { Switch, Route } from 'react-router-dom';\nimport AppBar from './components/AppBar/AppBar';\nimport Container from './components/Container/Container';\nimport HomePage from './views/HomePage/HomePage';\nimport MoviesPage from './views/MoviesPage/MoviesPage';\nimport NotFoundView from './views/NotFoundView';\n\nfunction App() {\n  return (\n    <Container>\n      <AppBar />\n      <Switch>\n        <Route path=\"/\" exact>\n          <HomePage />\n        </Route>\n\n        <Route path=\"/movies\">\n          <MoviesPage />\n        </Route>\n\n        <Route>\n          <NotFoundView />\n        </Route>\n      </Switch>\n    </Container>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport 'react-toastify/dist/ReactToastify.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}